$(function(){const c=Intl.DateTimeFormat().resolvedOptions().timeZone;$(".add-item").click(function(){let a=$("input.item:first-child").clone(),b=$("#itemInputs").find("input.item:last-child");""===b.val()?b.focus():(a.val(""),$("#itemInputs").append(a))});$(document).on("keypress","input",function(a){let b="";$(this).hasClass("text-only")?b="^[a-zA-Z]$":$(this).hasClass("text-s-num-only")?b="^[0-9a-zA-Z ]$":$(this).hasClass("text-s-only")?b="^[a-zA-Z ]$":"number"===$(this).attr("type")&&(b="^[0-9]$");
if($(this).attr("maxlength")){let a=parseInt($(this).attr("maxlength"));if(0<a&&$(this).val().length>=a)return!1}return allowInput(b,a)});$("#inputPhone").on("focus",function(){""===$(this).val()&&$(this).val("880")});$("#inputPhone").on("blur",function(){if(/(^(880)[0-9]{9,10})\b/.test($(this).val()))$(this).removeClass("is-invalid"),$("#alertMessage").html("");else return alertMessage("Not a valid mobile number","danger"),$(this).addClass("is-invalid"),!1});$("textarea").keyup(function(){var a=
$(this).val();30<a.split(" ").length&&(a=a.split(" ").splice(0,30).join(" "),$(this).val(a))});$("button[type=submit]").on("click",function(){$(this).closest("form").find("input[required=true]").each(function(){""===$.trim($(this).val())&&$(this).addClass("is-invalid")})});$(document).on("keyup","input.is-invalid",function(){$(this).removeClass("is-invalid")});$("#submitForm").on("submit",function(a){a.preventDefault();a=new FormData(this);a.append("timezone",c);fetch($(this).attr("action"),{method:$(this).attr("method"),
body:a}).then(a=>a.json()).then(a=>a.success?alertMessage(a.message,"success"):alertMessage(a.message,"danger")).catch(a=>alertMessage(a.message,"danger")).finally(function(){$("#submitForm")[0].reset();$(this).removeClass("is-invalid");let a=$("input.item:first-child").clone();$("input.item").remove();$("#itemInputs").append(a)});return!1});$(".table .desc, .table .asc").on("click",function(){let a=$(this).data("order"),b="asc";$(this).hasClass("asc")&&(b="desc");window.location.href=baseUrl+"report?order_by="+
a+"&direction="+b})});function alertMessage(c="",a="success"){c='<div class="alert alert-'+a+' alert-dismissible fade show" role="alert"><strong>'+("success"==a?"Success":"Error")+"!</strong> "+c+'<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>';$("body").find("#alertMessage").html(c)}
function allowInput(c,a){c=new RegExp(c);var b=String.fromCharCode(a.charCode?a.charCode:a.which);if(c.test(b))return!0;a.preventDefault();return!1};